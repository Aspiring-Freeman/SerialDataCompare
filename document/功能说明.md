### 一、版本说明
#### 1、VER1.0
- Date: 2025-11-01
- Detail: 初始版本，实现基础的串口数据分析功能
- 功能：
  - 数据输入与分析
  - 协议配置管理
  - 帧解析与校验
  - 结果导出


### 二、设计原因：
- 测试环节 下位机测试结束之后无法清晰的了解具体的测试结果，无法分清楚第几位是什么内容，一大串数据很难肉眼区分
- 当前设计这个软件的原因是希望能够自动解析，在没有mes的情况下帮忙解析数据是否正确
- 当前第一个tab就是数据分析，串口工具我们暂时不考虑加入，分析工具归于分析工具


### 三、功能模块说明

#### 3.1 数据分析 Tab
这是主要的工作界面，用于输入数据并查看分析结果。

**数据输入区域：**
- 支持输入十六进制串口数据（如：68 00 03 01 02 03 16）
- 支持多行输入，自动识别空格分隔
- 提供清空按钮快速清除输入
- 点击"开始分析"按钮进行数据解析

**分析结果区域：**
- **统计信息**：显示总帧数、有效帧数、错误帧数
- **帧列表表格**：
  - 帧序号：第几帧数据
  - 起始位置/结束位置：该帧在原始数据中的位置
  - 原始数据：该帧的原始十六进制数据
  - 解析结果：根据协议配置解析后的字段内容
  - 校验状态：显示该帧校验是否通过（绿色✓表示通过，红色✗表示失败）
- **帧详情**：点击表格中某一帧，下方显示该帧的详细解析信息
- **导出结果**：可将分析结果导出为文本或Excel文件

#### 3.2 协议配置 Tab
用于定义和管理串口通信协议规则。

**基本协议参数：**
- **帧头标识**：定义数据帧的起始标识符（如：68）
- **帧尾标识**：定义数据帧的结束标识符（如：16）
- **校验方式**：支持多种校验算法
  - 无校验
  - 累加和
  - CRC16
  - CRC32
  - 异或校验
- **校验码位置**：定义校验码在帧尾前还是帧尾后

**数据字段定义：**
- 可以添加/删除/编辑多个数据字段
- 每个字段包含：
  - 序号：字段在帧中的顺序
  - 字段名称：如"设备地址"、"命令码"等
  - 字节数：该字段占用的字节数
  - 数据类型：uint8, uint16, int32, float等
  - 说明：字段的详细描述
- 支持字段排序（上移/下移）

**协议文件管理：**
- **保存协议**：将当前协议配置保存为JSON文件
- **加载协议**：从文件加载已保存的协议配置
- **重置**：恢复到默认协议配置

#### 3.3 设置 Tab
应用程序的通用设置。

**显示设置：**
- 字体大小：调整界面字体大小（8-24pt）
- 主题：选择浅色或深色主题

**关于信息：**
- 显示软件版本、日期和简介


### 四、使用流程

1. **配置协议**（首次使用或更换协议时）
   - 切换到"协议配置"标签页
   - 设置帧头、帧尾、校验方式等基本参数
   - 定义数据字段（名称、字节数、类型等）
   - 保存协议配置供后续使用

2. **输入数据**
   - 切换到"数据分析"标签页
   - 在输入框中粘贴或输入串口数据（十六进制格式）
   - 数据示例：`68 00 03 01 02 03 16`

3. **分析数据**
   - 点击"开始分析"按钮
   - 系统自动根据协议配置解析数据
   - 识别所有数据帧

4. **查看结果**
   - 在表格中查看所有识别到的帧
   - 查看统计信息（总帧数、有效帧、错误帧）
   - 点击某一帧查看详细解析信息
   - 红色标记的帧表示校验失败或格式错误

5. **导出结果**（可选）
   - 点击"导出结果"按钮
   - 选择保存路径和格式
   - 导出分析报告


### 五、协议示例

假设有如下协议格式：
```
帧头 | 地址 | 命令 | 数据长度 | 数据 | 校验 | 帧尾
68  |  00  |  03  |    01    | 02   |  XX  | 16
```

**协议配置：**
- 帧头：68
- 帧尾：16
- 校验方式：累加和
- 校验码位置：帧尾前

**字段定义：**
1. 地址 - 1字节 - uint8 - 设备地址
2. 命令 - 1字节 - uint8 - 命令码
3. 数据长度 - 1字节 - uint8 - 后续数据长度
4. 数据 - N字节 - bytes - 实际数据内容

**输入数据示例：**
```
68 00 03 01 02 03 16
```

**解析结果：**
- 帧1：起始位置0，结束位置6
  - 帧头：68
  - 地址：00
  - 命令：03
  - 数据长度：01
  - 数据：02
  - 校验：03（累加和校验通过）
  - 帧尾：16


### 六、注意事项

1. **数据格式**：输入的数据必须是十六进制格式，可以用空格分隔
2. **协议配置**：分析前必须先配置正确的协议，否则无法正确解析
3. **校验失败**：如果帧校验失败，会在表格中用红色标记，需要检查原始数据或协议配置
4. **大数据量**：如果输入数据量很大，分析可能需要几秒时间，请耐心等待
5. **保存协议**：建议将常用的协议配置保存为文件，方便下次使用


### 七、后续计划

- 支持从文件批量导入数据
- 支持实时串口监听和分析
- 增加数据可视化图表
- 支持自定义校验算法
- 增加数据统计分析功能
